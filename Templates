import pandas as pd
import numpy as np

# Example DataFrame
data = {'column_name': [123, 45.6, np.nan, '-', 'abc', 789, '42']}
df = pd.DataFrame(data)

# Function to check if a value is an integer or float
def is_number(value):
    try:
        # Check if the value can be converted to float
        float(value)
        return True
    except (ValueError, TypeError):
        return False

# Filter the DataFrame
filtered_df = df[df['column_name'].apply(lambda x: is_number(x) and not pd.isna(x))]

# Convert valid number strings to numeric types
filtered_df['column_name'] = pd.to_numeric(filtered_df['column_name'])

print(filtered_df)
