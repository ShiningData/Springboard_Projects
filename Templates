import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# Assuming you already have the clustered data with cluster labels assigned
# Load the clustered data
clustered_data = pd.read_csv("clustered_data.csv")  # Replace "clustered_data.csv" with the actual file path

# Define the columns for the snake plot (excluding non-numeric and cluster columns)
snake_plot_cols = ['revenue', 'volume', 'price_realization', 'discount']

# Melt the data to create the snake plot format
melted_data = pd.melt(clustered_data, id_vars=['cluster'], value_vars=snake_plot_cols, var_name='Variable', value_name='Value')

# Plot the snake plot
plt.figure(figsize=(10, 6))
sns.lineplot(x='Variable', y='Value', hue='cluster', data=melted_data, marker='o', palette='viridis')
plt.title('Snake Plot')
plt.xlabel('Variable')
plt.ylabel('Value')
plt.xticks(rotation=45)
plt.legend(title='Cluster')
plt.grid(True)
plt.tight_layout()
plt.show()
